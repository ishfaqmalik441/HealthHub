{% extends 'base.html' %}

{% block title %}
Dashboard
{% endblock %}

{% block content %}
{% if msg == 'No File Uploaded' %}
<div class="alert alert-danger alert-dismissible fade show position-fixed start-50 translate-middle-x w-50 text-center" role="alert" style="bottom: 20%; z-index: 1050;">
    You did not upload any file! Please upload an excel or csv file
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% elif msg == 'File Uploaded' %}
<div class="alert alert-success alert-dismissible fade show position-fixed start-50 translate-middle-x w-50 text-center" role="alert" style="bottom: 20%; z-index: 1050;">
    You file was successfully uploaded and processed!
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}

<div class="container-fluid">
    <div class="row vh-100">
        <!-- Main content section with full-width layout -->
        <main class="col-12 px-md-4">
            {% if msg == 'logged in' %}
            <div class="alert alert-success alert-dismissible fade show position-fixed start-50 translate-middle-x w-50 text-center" role="alert" style="bottom: 20%; z-index: 1050;">
                You are logged in!
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endif %}
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Hello {{name}}!</h1>
            </div>
            <!-- File upload section -->
            <div>
                <h4>Upload your latest CSV or Excel file containing your health and workout data below:</h4>
                <br>
                <form action="/upload/{{ current_user.username }}" method="POST" enctype="multipart/form-data">
                    <input type="file" id="fileUploadButton" name="file" accept=".csv, .xlsx">
                    <button type="submit" style="border-radius: 5px; background-color: black; color: white;">Upload</button>
                </form>
            </div>

            <!-- Section with icons, buttons, and descriptions -->
            <div class="mt-5">
                <div class="row justify-content-center">
                    <div class="col-md-3 text-center mb-4">
                        <img src="https://www.tataaia.com/content/dam/tataaialifeinsurancecompanylimited/calculator/life-planning-tools/bmi-calculator/banner-image-bmi.png" alt="Icon 1" class="img-fluid">
                        <h4>Body Mass Index (BMI) Analysis Tool</h4>
                        <p style="font-size: 15px;">This tool provides a comprehensive analysis of your body mass 
                            index (BMI) trends over time. You can visualize how 
                            your weight and health status have evolved. The platform offers valuable insights into BMI changes,
                            categorizes weight status (underweight, normal, overweight, or obese), and presents important 
                            statistics related to your BMI.</p>
                        <a href="/dashboard/bmi/{{ current_user.username }}" class="btn btn-primary">Analyse your BMI</a>
                    </div>
                    <div class="col-md-3 text-center mb-4">
                        <img src="https://via.placeholder.com/100" alt="Icon 2" class="img-fluid mb-3">
                        <h5>Radar</h5>
                        <p>Radar displays the distribution of your workouts</p>
                        <a href="/dashboard/radar/{{ current_user.username }}" class="btn btn-primary">Go to Radar</a>
                    </div>
                    <div class="col-md-3 text-center mb-4">
                        <img src="https://via.placeholder.com/100" alt="Icon 3" class="img-fluid mb-3">
                        <h5>DataVis3</h5>
                        <p>Description of  3</p>
                        <a href="#" class="btn btn-primary">Go to DataVis3</a>
                    </div>
                    <div class="col-md-3 text-center mb-4">
                        <img src="https://via.placeholder.com/100" alt="Icon 4" class="img-fluid mb-3">
                        <h5>DataVis4</h5>
                        <p>Description of  4</p>
                        <a href="#" class="btn btn-primary">Go to DataVis4</a>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
{% endblock %}
